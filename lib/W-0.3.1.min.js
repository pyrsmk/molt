(function(def){if(typeof define=="function"){define(def)}else if(typeof module!="undefined"){module.exports=def}else{this.W=def}})(function(){var win=window,doc=document,html=doc.documentElement,textelement,textheight,style="style",createElement="createElement",appendChild="appendChild",offsetHeight="offsetHeight",offsetWidth="offsetWidth",listeners=[];return function(spec){var type=typeof spec,unit,a,b;if(type=="function"){if(a=win.addEventListener){a("resize",spec,false)}else{win.attachEvent("onresize",spec)}if(!listeners.length){textelement=doc[createElement]("b");textelement[style].position="absolute";textelement[style].top="-99em";textelement.innerHTML="W";html[appendChild](textelement);textheight=textelement[offsetHeight];setInterval(function(a,b){if(textheight!=(b=textelement[offsetHeight])){a=listeners.length;while(a){listeners[--a]()}}textheight=b},250)}listeners.push(spec);return}a=doc[createElement]("div");a[style].width="1em";html[appendChild](a);unit=a[offsetWidth];unit=unit?unit:16;html.removeChild(a);if(type=="number"){return spec/unit}else{a=navigator.userAgent.match(/iPhone|iPod|iPad/i)?win.outerWidth:screen.width;if(!(b=win.innerWidth)){b=html.clientWidth}a=(b-a)*100/b<5?b:a;return spec?a/unit:a}}}());