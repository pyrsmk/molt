!function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.W=b()}(this,function(){var a,b,c=window,d=document,e=d.documentElement,f=[],g=function(a){return function(){e.clientWidth&&a()}};return function(h){var i,j,k,l=typeof h;return"function"==l?((j=c.addEventListener)?j("resize",g(h),!1):c.attachEvent("onresize",g(h)),f.length||(a=d.createElement("b"),a.style.position="absolute",a.style.top="-99em",a.innerHTML="W",e.appendChild(a),b=a.offsetHeight,setInterval(function(c,d){if(b!=(d=a.offsetHeight))for(c=f.length;c;)g(f[--c])();b=d},250)),void f.push(h)):(j=d.createElement("div"),j.style.width="1em",e.appendChild(j),i=j.offsetWidth,i=i?i:16,e.removeChild(j),"number"==l?h/i:(j=navigator.userAgent.match(/iPhone|iPod|iPad/i)?c.outerWidth:screen.width,(k=c.innerWidth)||(k=e.clientWidth),j=5>100*(k-j)/k?k:j,h?j/i:j))}});