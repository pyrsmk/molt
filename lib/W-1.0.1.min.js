!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():"function"==typeof define&&define.amd?define(c):a[b]=c()}(this,"W",function(){var a,b,c,d,e,f=window,g=document,h=g.documentElement,i=[],j=!1,k=function(){a=g.createElement("div"),a.style.width="1em",h.appendChild(a),e=a.offsetWidth,e=e?e:16,h.removeChild(a)};return k(),f.addEventListener?f.addEventListener("resize",function(){j=!0},!1):f.attachEvent("onresize",function(){j=!0}),c=g.createElement("b"),c.style.position="absolute",c.style.top="-99em",c.innerHTML="W",h.appendChild(c),d=c.offsetHeight,setInterval(function(){if(a=c.offsetHeight,a!=d&&(j=!0),d=a,j&&h.clientWidth){k();for(var b=0,e=i.length;e>b;++b)i[b]();j=!1}},250),{px2em:function(a){return a/e},getViewportWidth:function(){return a=navigator.userAgent.match(/iPhone|iPod|iPad/i)?f.outerWidth:screen.width,(b=f.innerWidth)||(b=h.clientWidth),5>100*(b-a)/b?b:a},getViewportHeight:function(){return a=navigator.userAgent.match(/iPhone|iPod|iPad/i)?f.outerHeight:screen.height,(b=f.innerHeight)||(b=h.clientHeight),5>100*(b-a)/b?b:a},addListener:function(a){return i.push(a),a}}});