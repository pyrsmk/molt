(function(def){if(typeof define=="function"){define(def)}else if(typeof module!="undefined"){module.exports=def}else{this.W=def}})(function(){var win=window,doc=document,html=doc.documentElement,textelement,textheight,style="style",createElement="createElement",appendChild="appendChild",offsetHeight="offsetHeight",offsetWidth="offsetWidth",listeners=[];return function(spec){var type=typeof spec,unit,a,b;if(type=="function"){if(a=win.addEventListener){a("resize",spec,false)}else{win.attachEvent("onresize",spec)}if(!listeners.length){textelement=doc[createElement]("b");textelement[style].position="absolute";textelement[style].top="-99em";textelement.innerHTML="W";html[appendChild](textelement);textheight=textelement[offsetHeight];setInterval(function(a,b){if(textheight!=(b=textelement[offsetHeight])){a=listeners.length;while(a){listeners[--a]()}}textheight=b},250)}listeners.push(spec);return}a=doc[createElement]("div");a[style].width="1em";html[appendChild](a);unit=a[offsetWidth];unit=unit?unit:16;html.removeChild(a);if(type=="number"){return spec/unit}else{a=navigator.userAgent.match(/iPhone|iPod|iPad/i)?win.outerWidth:screen.width;if(!(b=win.innerWidth)){b=html.clientWidth}a=(b-a)*100/b<5?b:a;return spec?a/unit:a}}}());(function(def){if(typeof define=="function"){define(def)}else if(typeof module!="undefined"){module.exports=def}else{this.molt=def}})(function(){var getAttribute="getAttribute",data="data-",triggers=[],listeners=[],nodes=[],i,refresh=function(){var j,k,url,node,mode,modes,width=W();i=-1;while(node=nodes[++i]){modes=(url=node.getAttribute(data+"url")).match(/\{\s*(.*?)\s*\}/)[1].split(/\s*,\s*/);j=modes.length;while(j--){mode=modes[j].split(":");if(mode.length==1){mode[1]=mode[0]}if(width>mode[0].match(/^!?(.+)/)[1]){break}}if(mode[0].charAt(0)=="!"){node.style.display="none"}else{if(node.style.display=="none"){if(k=node.getAttribute(data+"display")){node.style.display=k}else{node.style.display="inline"}}node.src=url.replace(/\{.+\}/g,mode[1]);k=triggers.length;while(k--){if(triggers[k]==node){listeners[k].apply(node,[mode[1]])}}}}};return{listen:function(node,callback){triggers.push(node);listeners.push(callback)},discover:function(){var img,imgs=document.getElementsByTagName("img"),discovered="discovered";i=-1;while(img=imgs[++i]){if(img[getAttribute](data+"url")&&!img[getAttribute](data+discovered)){img.setAttribute(data+discovered,discovered);nodes.push(img)}}refresh();W(refresh);return nodes}}}());